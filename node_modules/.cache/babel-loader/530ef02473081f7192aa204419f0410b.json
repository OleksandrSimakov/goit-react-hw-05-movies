{"ast":null,"code":"import _slicedToArray from\"/Users/sima/Downloads/react-21-22-10-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{useState,useEffect,lazy,Suspense}from'react';import{NavLink,Route,useRouteMatch}from'react-router-dom';import*as bookShelfAPI from'../services/bookshelf-api';import PageHeading from'../components/PageHeading/PageHeading';// import AuthorSubView from './AuthorSubView';\nvar AuthorSubView=/*#__PURE__*/lazy(function(){return import('./AuthorSubView.js'/* webpackChunkName: \"authors-subview\"*/);});export default function AuthorsView(){var _useRouteMatch=useRouteMatch(),url=_useRouteMatch.url,path=_useRouteMatch.path;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),authors=_useState2[0],setAuthors=_useState2[1];useEffect(function(){bookShelfAPI.fetchAuthors().then(setAuthors);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageHeading,{text:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u044B\"}),authors&&/*#__PURE__*/_jsx(\"ul\",{children:authors.map(function(author){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"\".concat(url,\"/\").concat(author.id),children:author.name})},author.id);})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0430\\u0435\\u043C \\u043F\\u043E\\u0434\\u043C\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442...\"}),children:/*#__PURE__*/_jsx(Route,{path:\"\".concat(path,\"/:authorId\"),children:authors&&/*#__PURE__*/_jsx(AuthorSubView,{authors:authors})})})]});}","map":{"version":3,"sources":["/Users/sima/Downloads/react-21-22-10-/src/views/AuthorsView.js"],"names":["useState","useEffect","lazy","Suspense","NavLink","Route","useRouteMatch","bookShelfAPI","PageHeading","AuthorSubView","AuthorsView","url","path","authors","setAuthors","fetchAuthors","then","map","author","id","name"],"mappings":"ySAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,IAA9B,CAAoCC,QAApC,KAAoD,OAApD,CACA,OAASC,OAAT,CAAkBC,KAAlB,CAAyBC,aAAzB,KAA8C,kBAA9C,CACA,MAAO,GAAKC,CAAAA,YAAZ,KAA8B,2BAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,CACA;AAEA,GAAMC,CAAAA,aAAa,cAAGP,IAAI,CAAC,iBACzB,QAAO,oBAAqB,wCAA5B,CADyB,EAAD,CAA1B,CAIA,cAAe,SAASQ,CAAAA,WAAT,EAAuB,oBACdJ,aAAa,EADC,CAC5BK,GAD4B,gBAC5BA,GAD4B,CACvBC,IADuB,gBACvBA,IADuB,eAENZ,QAAQ,CAAC,IAAD,CAFF,wCAE7Ba,OAF6B,eAEpBC,UAFoB,eAIpCb,SAAS,CAAC,UAAM,CACdM,YAAY,CAACQ,YAAb,GAA4BC,IAA5B,CAAiCF,UAAjC,EACD,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,wCACE,KAAC,WAAD,EAAa,IAAI,CAAC,sCAAlB,EADF,CAGGD,OAAO,eACN,oBACGA,OAAO,CAACI,GAAR,CAAY,SAAAC,MAAM,qBACjB,iCACE,KAAC,OAAD,EAAS,EAAE,WAAKP,GAAL,aAAYO,MAAM,CAACC,EAAnB,CAAX,UAAqCD,MAAM,CAACE,IAA5C,EADF,EAASF,MAAM,CAACC,EAAhB,CADiB,EAAlB,CADH,EAJJ,cAYE,aAZF,cAcE,KAAC,QAAD,EAAU,QAAQ,cAAE,8IAApB,uBACE,KAAC,KAAD,EAAO,IAAI,WAAKP,IAAL,cAAX,UACGC,OAAO,eAAI,KAAC,aAAD,EAAe,OAAO,CAAEA,OAAxB,EADd,EADF,EAdF,GADF,CAsBD","sourcesContent":["import { useState, useEffect, lazy, Suspense } from 'react';\nimport { NavLink, Route, useRouteMatch } from 'react-router-dom';\nimport * as bookShelfAPI from '../services/bookshelf-api';\nimport PageHeading from '../components/PageHeading/PageHeading';\n// import AuthorSubView from './AuthorSubView';\n\nconst AuthorSubView = lazy(() =>\n  import('./AuthorSubView.js' /* webpackChunkName: \"authors-subview\"*/),\n);\n\nexport default function AuthorsView() {\n  const { url, path } = useRouteMatch();\n  const [authors, setAuthors] = useState(null);\n\n  useEffect(() => {\n    bookShelfAPI.fetchAuthors().then(setAuthors);\n  }, []);\n\n  return (\n    <>\n      <PageHeading text=\"Авторы\" />\n\n      {authors && (\n        <ul>\n          {authors.map(author => (\n            <li key={author.id}>\n              <NavLink to={`${url}/${author.id}`}>{author.name}</NavLink>\n            </li>\n          ))}\n        </ul>\n      )}\n      <hr />\n\n      <Suspense fallback={<h1>Загружаем подмаршрут...</h1>}>\n        <Route path={`${path}/:authorId`}>\n          {authors && <AuthorSubView authors={authors} />}\n        </Route>\n      </Suspense>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}