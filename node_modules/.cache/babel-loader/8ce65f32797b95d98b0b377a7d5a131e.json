{"ast":null,"code":"import _toConsumableArray from\"/Users/sima/Downloads/react-21-22-10-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/sima/Downloads/react-21-22-10-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sima/Downloads/react-21-22-10-/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{useState,useEffect,lazy}from'react';import{useHistory,useLocation}from'react-router-dom';import Table from'../components/Table/Table';import SortSelector from'../components/SortSelector/SortSelector';var initialState=[{id:1,value:100},{id:2,value:400},{id:3,value:200},{id:4,value:500},{id:5,value:300}];var sortOptions=[{value:'ascending',label:'По возрастанию'},{value:'descending',label:'По убыванию'}];export default function TableView(){var _URLSearchParams$get;var history=useHistory();var location=useLocation();var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),expenses=_useState2[0],setExpenses=_useState2[1];var sortOrder=(_URLSearchParams$get=new URLSearchParams(location.search).get('sortBy'))!==null&&_URLSearchParams$get!==void 0?_URLSearchParams$get:'ascending';var onSortOrderChange=function onSortOrderChange(order){history.push(_objectSpread(_objectSpread({},location),{},{search:\"sortBy=\".concat(order)}));};useEffect(function(){if(location.search!==''){return;}history.push(_objectSpread(_objectSpread({},location),{},{search:\"sortBy=ascending\"}));},[history,location]);useEffect(function(){setExpenses(function(prevExpenses){return _toConsumableArray(prevExpenses).sort(function(a,b){return sortOrder==='ascending'?a.value-b.value:b.value-a.value;});});},[sortOrder]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SortSelector,{options:sortOptions,onChange:onSortOrderChange,value:sortOrder}),/*#__PURE__*/_jsx(Table,{items:expenses})]});}","map":{"version":3,"sources":["/Users/sima/Downloads/react-21-22-10-/src/views/TableView.js"],"names":["useState","useEffect","lazy","useHistory","useLocation","Table","SortSelector","initialState","id","value","sortOptions","label","TableView","history","location","expenses","setExpenses","sortOrder","URLSearchParams","search","get","onSortOrderChange","order","push","prevExpenses","sort","a","b"],"mappings":"wmBAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,IAA9B,KAA0C,OAA1C,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,KAAP,KAAkB,2BAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,yCAAzB,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnB,CAAEC,EAAE,CAAE,CAAN,CAASC,KAAK,CAAE,GAAhB,CADmB,CAEnB,CAAED,EAAE,CAAE,CAAN,CAASC,KAAK,CAAE,GAAhB,CAFmB,CAGnB,CAAED,EAAE,CAAE,CAAN,CAASC,KAAK,CAAE,GAAhB,CAHmB,CAInB,CAAED,EAAE,CAAE,CAAN,CAASC,KAAK,CAAE,GAAhB,CAJmB,CAKnB,CAAED,EAAE,CAAE,CAAN,CAASC,KAAK,CAAE,GAAhB,CALmB,CAArB,CAQA,GAAMC,CAAAA,WAAW,CAAG,CAClB,CAAED,KAAK,CAAE,WAAT,CAAsBE,KAAK,CAAE,gBAA7B,CADkB,CAElB,CAAEF,KAAK,CAAE,YAAT,CAAuBE,KAAK,CAAE,aAA9B,CAFkB,CAApB,CAKA,cAAe,SAASC,CAAAA,SAAT,EAAqB,0BAClC,GAAMC,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CACA,GAAMW,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAFkC,cAGFJ,QAAQ,CAACO,YAAD,CAHN,wCAG3BQ,QAH2B,eAGjBC,WAHiB,eAKlC,GAAMC,CAAAA,SAAS,uBACb,GAAIC,CAAAA,eAAJ,CAAoBJ,QAAQ,CAACK,MAA7B,EAAqCC,GAArC,CAAyC,QAAzC,CADa,6DACyC,WADxD,CAGA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAC,KAAK,CAAI,CACjCT,OAAO,CAACU,IAAR,gCAAkBT,QAAlB,MAA4BK,MAAM,kBAAYG,KAAZ,CAAlC,IACD,CAFD,CAIArB,SAAS,CAAC,UAAM,CACd,GAAIa,QAAQ,CAACK,MAAT,GAAoB,EAAxB,CAA4B,CAC1B,OACD,CAEDN,OAAO,CAACU,IAAR,gCAAkBT,QAAlB,MAA4BK,MAAM,mBAAlC,IACD,CANQ,CAMN,CAACN,OAAD,CAAUC,QAAV,CANM,CAAT,CAQAb,SAAS,CAAC,UAAM,CACde,WAAW,CAAC,SAAAQ,YAAY,QACtB,oBAAIA,YAAJ,EAAkBC,IAAlB,CAAuB,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAC/B,MAAOV,CAAAA,SAAS,GAAK,WAAd,CACHS,CAAC,CAACjB,KAAF,CAAUkB,CAAC,CAAClB,KADT,CAEHkB,CAAC,CAAClB,KAAF,CAAUiB,CAAC,CAACjB,KAFhB,CAGD,CAJD,CADsB,EAAb,CAAX,CAOD,CARQ,CAQN,CAACQ,SAAD,CARM,CAAT,CAUA,mBACE,wCACE,KAAC,YAAD,EACE,OAAO,CAAEP,WADX,CAEE,QAAQ,CAAEW,iBAFZ,CAGE,KAAK,CAAEJ,SAHT,EADF,cAME,KAAC,KAAD,EAAO,KAAK,CAAEF,QAAd,EANF,GADF,CAUD","sourcesContent":["import { useState, useEffect, lazy } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Table from '../components/Table/Table';\nimport SortSelector from '../components/SortSelector/SortSelector';\n\nconst initialState = [\n  { id: 1, value: 100 },\n  { id: 2, value: 400 },\n  { id: 3, value: 200 },\n  { id: 4, value: 500 },\n  { id: 5, value: 300 },\n];\n\nconst sortOptions = [\n  { value: 'ascending', label: 'По возрастанию' },\n  { value: 'descending', label: 'По убыванию' },\n];\n\nexport default function TableView() {\n  const history = useHistory();\n  const location = useLocation();\n  const [expenses, setExpenses] = useState(initialState);\n\n  const sortOrder =\n    new URLSearchParams(location.search).get('sortBy') ?? 'ascending';\n\n  const onSortOrderChange = order => {\n    history.push({ ...location, search: `sortBy=${order}` });\n  };\n\n  useEffect(() => {\n    if (location.search !== '') {\n      return;\n    }\n\n    history.push({ ...location, search: `sortBy=ascending` });\n  }, [history, location]);\n\n  useEffect(() => {\n    setExpenses(prevExpenses =>\n      [...prevExpenses].sort((a, b) => {\n        return sortOrder === 'ascending'\n          ? a.value - b.value\n          : b.value - a.value;\n      }),\n    );\n  }, [sortOrder]);\n\n  return (\n    <>\n      <SortSelector\n        options={sortOptions}\n        onChange={onSortOrderChange}\n        value={sortOrder}\n      />\n      <Table items={expenses} />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}