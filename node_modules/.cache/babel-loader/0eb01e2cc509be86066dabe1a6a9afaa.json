{"ast":null,"code":"const BASE_URL = 'http://localhost:4040';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok ? await response.json() : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchAuthors() {\n  return fetchWithErrorHandling(`${BASE_URL}/authors?_embed=books`);\n}\nexport function fetchBooks() {\n  return fetchWithErrorHandling(`${BASE_URL}/books`);\n}\nexport function fetchBookById(bookId) {\n  return fetchWithErrorHandling(`${BASE_URL}/books/${bookId}?_expand=author`);\n}","map":{"version":3,"sources":["/Users/sima/Downloads/react-21-22-10-/src/services/bookshelf-api.js"],"names":["BASE_URL","fetchWithErrorHandling","url","config","response","fetch","ok","json","Promise","reject","Error","fetchAuthors","fetchBooks","fetchBookById","bookId"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,uBAAjB;;AAEA,eAAeC,sBAAf,CAAsCC,GAAG,GAAG,EAA5C,EAAgDC,MAAM,GAAG,EAAzD,EAA6D;AAC3D,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACH,GAAD,EAAMC,MAAN,CAA5B;AACA,SAAOC,QAAQ,CAACE,EAAT,GACH,MAAMF,QAAQ,CAACG,IAAT,EADH,GAEHC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,WAAV,CAAf,CAFJ;AAGD;;AAED,OAAO,SAASC,YAAT,GAAwB;AAC7B,SAAOV,sBAAsB,CAAE,GAAED,QAAS,uBAAb,CAA7B;AACD;AAED,OAAO,SAASY,UAAT,GAAsB;AAC3B,SAAOX,sBAAsB,CAAE,GAAED,QAAS,QAAb,CAA7B;AACD;AAED,OAAO,SAASa,aAAT,CAAuBC,MAAvB,EAA+B;AACpC,SAAOb,sBAAsB,CAAE,GAAED,QAAS,UAASc,MAAO,iBAA7B,CAA7B;AACD","sourcesContent":["const BASE_URL = 'http://localhost:4040';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchAuthors() {\n  return fetchWithErrorHandling(`${BASE_URL}/authors?_embed=books`);\n}\n\nexport function fetchBooks() {\n  return fetchWithErrorHandling(`${BASE_URL}/books`);\n}\n\nexport function fetchBookById(bookId) {\n  return fetchWithErrorHandling(`${BASE_URL}/books/${bookId}?_expand=author`);\n}\n"]},"metadata":{},"sourceType":"module"}