(this["webpackJsonpreact-21-22"]=this["webpackJsonpreact-21-22"]||[]).push([[5],{46:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return s}));var n=c(36),a=c(1),o=c(0),r=c(37),u=c(2),i=c(8);function s(){var t=Object(o.useState)(""),e=Object(n.a)(t,2),c=e[0],s=e[1],l=Object(o.useState)([]),j=Object(n.a)(l,2),b=j[0],h=j[1],f=Object(u.f)(),p=JSON.parse(localStorage.getItem("query"));return Object(o.useEffect)((function(){(p||""!==c)&&(c?r.a(c).then((function(t){h(t)})).catch((function(t){return console.log(t)})):r.a(p).then((function(t){h(t)})).catch((function(t){return console.log(t)})))}),[c,p]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{onSubmit:function(t){var e=t.target.elements[0].value;t.preventDefault(),s(t.target.elements[0].value),localStorage.setItem("query",JSON.stringify(e)),f.push("".concat(window.location.pathname,"?query=").concat(e))},children:[Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})}),Object(a.jsx)("button",{type:"submit",children:"Search"})]}),b&&Object(a.jsx)("ul",{children:b.map((function(t){return t.title&&Object(a.jsx)("li",{children:Object(a.jsx)(i.b,{to:{pathname:"movies/".concat(t.id),state:{params:"".concat(window.location.pathname,"?query=").concat(c)}},children:t.title})},t.id)}))})]})}}}]);
//# sourceMappingURL=movie-search-view.5ed519ab.chunk.js.map